# Отчёт по тестовому заданию: распознавание людей на видео

## 1. Описание
- Входное видео: `crowd.mp4` (длительность, разрешение).
- Окружение: OS, Python, CPU/GPU, версия драйвера/CUDA (если применимо).
- Команды запуска:
  - YOLOv8n: `python -m src.infer --model yolo --input crowd.mp4 --output out_yolo.mp4 --device auto --conf 0.30 --resize 1280`
  - DETR‑ResNet50: `python -m src.infer --model detr --input crowd.mp4 --output out_detr.mp4 --device auto --conf 0.30 --resize 1280`

## 2. Метрики и результаты
Заполните фактическими значениями из `*_metrics_*.json`:
- **FPS (avg)**: YOLOv8n = …, DETR = …
- **Latency p50/p95 (ms)**: YOLOv8n = …/…, DETR = …/…
- **Detections/frame (mean ± std)**: YOLOv8n = … ± …, DETR = … ± …
- **Temporal consistency (mean IoU)**: YOLOv8n = …, DETR = …

## 3. Качественные наблюдения
- Примеры кадров c пропусками/ложными срабатываниями.
- Стабильность боксов между кадрами (дрожание, мерцание).
- Реакция на перекрытия / плотные толпы.

## 4. Сравнение архитектур и выбор
- **YOLOv8n**: сильная сторона — скорость, достаточно высокая точность по людям (COCO). Хорошо масштабируется с FP16 и уменьшением разрешения.  
- **DETR‑ResNet50**: плюс — трансформерная архитектура с глобальным вниманием, иногда лучше при сложных взаимных перекрытиях; минус — заметно медленнее на CPU/GPU того же класса.

**Итоговый выбор**: _заполните_, исходя из ваших реальных результатов на `crowd.mp4` (обычно предпочтителен **YOLOv8n** из‑за лучшего баланса скорость/качество на людях).

## 5. Дальнейшие улучшения

### Качество
- Тонкая настройка порога `--conf`, NMS и размеров входа.
- Переобучение/дообучение (`finetune`) на доменно‑специфичном датасете толп (например, CrowdHuman/CityPersons) — даже 1–5 эпох дают прирост.
- Мульти‑scale / TTA для сложных сцен (при оффлайн‑обработке).
- Пост‑обработка трекингом (e.g., ByteTrack/OC-SORT) — повышает стабильность и снижает мерцание.
- Объединение детекции + сегментации (YOLOv8‑seg) — лучше под перекрытиями.

### Производительность
- FP16/TF32 (CUDA), static shapes, `--resize` 720–1080 в зависимости от цели.
- Экспорт в ONNX / TensorRT / OpenVINO.
- Батчинг по нескольким кадрам (оффлайн) или pipelining с потоками I/O.
- Квантизация (INT8) при допустимой потери качества.
- Снижение частоты кадров при сохранении метрик плотности.

## 6. Приложения
- Ссылки на видео результатов (`out_yolo.mp4`, `out_detr.mp4`).
- Скриншоты.
- Логи программных версий.
